<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Surveys • shinysurveys</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Add Surveys">
<meta property="og:description" content="shinysurveys">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinysurveys</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/add-surveys.html">Add Surveys</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jdtrat/shinysurveys/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="add-surveys_files/header-attrs-2.5/header-attrs.js"></script><script src="add-surveys_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="add-surveys_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="add-surveys_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Add Surveys</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jdtrat/shinysurveys/blob/master/vignettes/add-surveys.Rmd"><code>vignettes/add-surveys.Rmd</code></a></small>
      <div class="hidden name"><code>add-surveys.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">shinysurveys</span><span class="op">)</span></pre></div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>Many academic responsibilities require some type of survey. A clear example is a simple demographic form. Our package allows you to easily create questionnaires using Shiny.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> We provide two functions to do this: <code><a href="../reference/surveyOutput.html">surveyOutput()</a></code> and <code><a href="../reference/renderSurvey.html">renderSurvey()</a></code>. Both of these functions take in a data frame containing question information that follows a specific format. To illustrate them in use, we will show you a questionnaire from McGowan et al (2021) that is built into the <code>shinysurveys</code> package:</p>
<pre><code>#&gt;                                                                           question
#&gt; 1                                                                 What's your age?
#&gt; 2                                                Which best describes your gender?
#&gt; 3                                                Which best describes your gender?
#&gt; 4                                                Which best describes your gender?
#&gt; 5                                                Which best describes your gender?
#&gt; 6                                                Which best describes your gender?
#&gt; 7                        What is the highest level of education you have attained?
#&gt; 8                        What is the highest level of education you have attained?
#&gt; 9                        What is the highest level of education you have attained?
#&gt; 10                       What is the highest level of education you have attained?
#&gt; 11                       What is the highest level of education you have attained?
#&gt; 12                       What is the highest level of education you have attained?
#&gt; 13                                                   What was your first language?
#&gt; 14                                                   What was your first language?
#&gt; 15                                                   What was your first language?
#&gt; 16                                                   What was your first language?
#&gt; 17                                                   What was your first language?
#&gt; 18                                                   What was your first language?
#&gt; 19                                                   What was your first language?
#&gt; 20                                                   What was your first language?
#&gt; 21                                                   What was your first language?
#&gt; 22                                                   What was your first language?
#&gt; 23                                                   What was your first language?
#&gt; 24                                                   What was your first language?
#&gt; 25                                                   What was your first language?
#&gt; 26                                                   What was your first language?
#&gt; 27                                                   What was your first language?
#&gt; 28                                        In what language do you read most often?
#&gt; 29                                        In what language do you read most often?
#&gt; 30                                        In what language do you read most often?
#&gt; 31                                        In what language do you read most often?
#&gt; 32                                        In what language do you read most often?
#&gt; 33                                        In what language do you read most often?
#&gt; 34                                        In what language do you read most often?
#&gt; 35                                        In what language do you read most often?
#&gt; 36                                        In what language do you read most often?
#&gt; 37                                        In what language do you read most often?
#&gt; 38                                        In what language do you read most often?
#&gt; 39                                        In what language do you read most often?
#&gt; 40                                        In what language do you read most often?
#&gt; 41                                        In what language do you read most often?
#&gt; 42                                        In what language do you read most often?
#&gt; 43                                          Have you ever learned to program in R?
#&gt; 44                                          Have you ever learned to program in R?
#&gt; 45                                   If yes, how many years have you been using R?
#&gt; 46                    Have you ever learned a programming language (other than R)?
#&gt; 47                    Have you ever learned a programming language (other than R)?
#&gt; 48 If yes, which language(s) and how many years have you been using each language?
#&gt; 49                                        Have you ever completed a data analysis?
#&gt; 50                                        Have you ever completed a data analysis?
#&gt; 51                If yes, approximately how many data analyses have you completed?
#&gt; 52                If yes, approximately how many data analyses have you completed?
#&gt; 53                If yes, approximately how many data analyses have you completed?
#&gt; 54                If yes, approximately how many data analyses have you completed?
#&gt;                        option input_type                       input_id
#&gt; 1                          25    numeric                            age
#&gt; 2                      Female         mc                         gender
#&gt; 3                        Male         mc                         gender
#&gt; 4           Prefer not to say         mc                         gender
#&gt; 5     Prefer to self describe         mc                         gender
#&gt; 6                        &lt;NA&gt;       text           self_describe_gender
#&gt; 7  Did not attend high school     select             education_attained
#&gt; 8            Some high school     select             education_attained
#&gt; 9        High school graduate     select             education_attained
#&gt; 10               Some college     select             education_attained
#&gt; 11                    College     select             education_attained
#&gt; 12              Graduate Work     select             education_attained
#&gt; 13                     Arabic     select                 first_language
#&gt; 14                   Armenian     select                 first_language
#&gt; 15                    Chinese     select                 first_language
#&gt; 16                    English     select                 first_language
#&gt; 17                     French     select                 first_language
#&gt; 18                     Creole     select                 first_language
#&gt; 19                     German     select                 first_language
#&gt; 20                      Greek     select                 first_language
#&gt; 21                   Gujarati     select                 first_language
#&gt; 22                     Hebrew     select                 first_language
#&gt; 23                      Hindi     select                 first_language
#&gt; 24                    Italian     select                 first_language
#&gt; 25                   Japanese     select                 first_language
#&gt; 26                      Other     select                 first_language
#&gt; 27                       &lt;NA&gt;       text           first_language_other
#&gt; 28                     Arabic     select                  read_language
#&gt; 29                   Armenian     select                  read_language
#&gt; 30                    Chinese     select                  read_language
#&gt; 31                    English     select                  read_language
#&gt; 32                     French     select                  read_language
#&gt; 33                     Creole     select                  read_language
#&gt; 34                     German     select                  read_language
#&gt; 35                      Greek     select                  read_language
#&gt; 36                   Gujarati     select                  read_language
#&gt; 37                     Hebrew     select                  read_language
#&gt; 38                      Hindi     select                  read_language
#&gt; 39                    Italian     select                  read_language
#&gt; 40                   Japanese     select                  read_language
#&gt; 41                      Other     select                  read_language
#&gt; 42                       &lt;NA&gt;       text            read_language_other
#&gt; 43                        Yes        y/n                      learned_r
#&gt; 44                         No        y/n                      learned_r
#&gt; 45                          5    numeric                  years_using_r
#&gt; 46                        Yes        y/n      learned_programming_not_r
#&gt; 47                         No        y/n      learned_programming_not_r
#&gt; 48                       &lt;NA&gt;       text        years_programming_not_r
#&gt; 49                        Yes        y/n        completed_data_analysis
#&gt; 50                         No        y/n        completed_data_analysis
#&gt; 51                     0 to 5         mc number_completed_data_analysis
#&gt; 52                    5 to 10         mc number_completed_data_analysis
#&gt; 53                   10 to 15         mc number_completed_data_analysis
#&gt; 54                        15+         mc number_completed_data_analysis
#&gt;                   dependence        dependence_value required
#&gt; 1                       &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 2                       &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 3                       &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 4                       &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 5                       &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 6                     gender Prefer to self describe    FALSE
#&gt; 7                       &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 8                       &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 9                       &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 10                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 11                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 12                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 13                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 14                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 15                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 16                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 17                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 18                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 19                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 20                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 21                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 22                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 23                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 24                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 25                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 26                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 27            first_language                   Other    FALSE
#&gt; 28                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 29                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 30                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 31                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 32                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 33                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 34                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 35                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 36                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 37                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 38                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 39                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 40                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 41                      &lt;NA&gt;                    &lt;NA&gt;    FALSE
#&gt; 42             read_language                   Other    FALSE
#&gt; 43                      &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 44                      &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 45                 learned_r                     Yes    FALSE
#&gt; 46                      &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 47                      &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 48 learned_programming_not_r                     Yes    FALSE
#&gt; 49                      &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 50                      &lt;NA&gt;                    &lt;NA&gt;     TRUE
#&gt; 51   completed_data_analysis                     Yes    FALSE
#&gt; 52   completed_data_analysis                     Yes    FALSE
#&gt; 53   completed_data_analysis                     Yes    FALSE
#&gt; 54   completed_data_analysis                     Yes    FALSE</code></pre>
<p>As seen, this is a tidy data frame, where each row is a unique observation and each column is a variable. While there are 54 rows, there are only 11 unique questions:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="../reference/teaching_r_questions.html">teaching_r_questions</a></span><span class="op">$</span><span class="va">question</span><span class="op">)</span>
<span class="co">#&gt;  [1] "What's your age?"                                                               </span>
<span class="co">#&gt;  [2] "Which best describes your gender?"                                              </span>
<span class="co">#&gt;  [3] "What is the highest level of education you have attained?"                      </span>
<span class="co">#&gt;  [4] "What was your first language?"                                                  </span>
<span class="co">#&gt;  [5] "In what language do you read most often?"                                       </span>
<span class="co">#&gt;  [6] "Have you ever learned to program in R?"                                         </span>
<span class="co">#&gt;  [7] "If yes, how many years have you been using R?"                                  </span>
<span class="co">#&gt;  [8] "Have you ever learned a programming language (other than R)?"                   </span>
<span class="co">#&gt;  [9] "If yes, which language(s) and how many years have you been using each language?"</span>
<span class="co">#&gt; [10] "Have you ever completed a data analysis?"                                       </span>
<span class="co">#&gt; [11] "If yes, approximately how many data analyses have you completed?"</span></pre></div>
<p>Each question has seven variables that dictate how it functions within the survey. They are described in the data set documentation, accessed by calling <code><a href="../reference/teaching_r_questions.html">?shinysurveys::teaching_r_questions</a></code> in your console, as follows:</p>
<ul>
<li>
<em>question</em>: The question to be asked.</li>
<li>
<em>option</em>: A possible response to the question. In multiple choice questions, for example, this would be the possible answers. For questions without discrete answers, such as a numeric input, this would be the default option shown on the input.</li>
<li>
<em>input_type</em>: What type of response is expected? Currently supported types include <code>numeric</code>, <code>mc</code> for multiple choice, <code>text</code>, <code>select</code>,and <code>y/n</code> for yes/no questions.</li>
<li>
<em>input_id</em>: The input id for Shiny inputs.</li>
<li>
<em>dependence</em>: Does this question (row) depend on another? That is, should it only appear if a different question has a specific value? This column contains the input_id of whatever question this one depends upon.</li>
<li>
<em>dependence_value</em>: This column contains the specific value that the dependence question must take for this question (row) to be shown.</li>
<li>
<em>required</em>: logical TRUE/FALSE signifying if a question is required.</li>
</ul>
</div>
<div id="examples" class="section level1">
<h1 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h1>
<p>Below are examples of the currently supported question types. We provide a thorough explanation for the numeric input, but only point out notable differences for other inputs.</p>
<div id="numeric-input" class="section level2">
<h2 class="hasAnchor">
<a href="#numeric-input" class="anchor"></a>Numeric Input</h2>
<p>A good example of a numeric input is the first question: “What’s your age?”:</p>
<pre><code>#&gt; # A tibble: 1 x 7
#&gt;   question       option input_type input_id dependence dependence_value required
#&gt;   &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
#&gt; 1 What's your a… 25     numeric    age      &lt;NA&gt;       &lt;NA&gt;             TRUE</code></pre>
<p>As we noted in the <a href="#Introduction">introduction</a>, this row shows us that the question is “What’s your age?”. We know we are expecting a numeric input by looking at the <code>input_type</code> column, and the default value is equal to 25 according to the <code>option</code> column.</p>
<blockquote>
<p>It is important to note that the <code>option</code> column for numeric inputs provides the default value, but for other types – as we will see – provides the possible options for a question.</p>
</blockquote>
<p>We can also tell that there are no dependency questions. This means that no matter what value you enter, no follow-up question will appear. Lastly, we know this is a required question.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/numeric_example.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Numeric input example</p>
</div>
</div>
<div id="multiple_choice" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple_choice" class="anchor"></a>Multiple Choice (mc) Input</h2>
<p>An example of this is the question “Which best describes your gender?”:</p>
<pre><code>#&gt; # A tibble: 5 x 7
#&gt;   question    option   input_type input_id  dependence dependence_value required
#&gt;   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
#&gt; 1 Which best… Female   mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 2 Which best… Male     mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 3 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 4 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 5 Which best… &lt;NA&gt;     text       self_des… gender     Prefer to self … FALSE</code></pre>
<p>Unlike numeric inputs, the <code>option</code> column represents each of the possible responses for this question. You may notice that the fifth row of this question has <em>NA</em> in the <code>option</code> column and “text” in the <code>input_type</code> column. We will discuss this in more detail <a href="#Question%20Dependencies">below</a>, but for now note that this question has a dependent. That is, if a specific option is chosen for this question, a new one will appear below. In this case, a question that accepts text as its input.</p>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/mc_example.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Multiple Choice Example</p>
</div>
</div>
<div id="text_input" class="section level2">
<h2 class="hasAnchor">
<a href="#text_input" class="anchor"></a>Text Input</h2>
<p>Questions that need text-based input should specify “text” in the <code>input_type</code> column. As noted in the previous example, the following is a dependent of the question “Which best describes your gender?”:</p>
<pre><code>#&gt; # A tibble: 1 x 7
#&gt;   question     option input_type input_id   dependence dependence_value required
#&gt;   &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
#&gt; 1 Which best … &lt;NA&gt;   text       self_desc… gender     Prefer to self … FALSE</code></pre>
<p>It’s important to note that the <code>option</code> column for text-based inputs can be left blank (i.e. NA) or contain a character string. If they are left empty, the text field will display “Placeholder.” Otherwise, the character string will be displayed:</p>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/text_input_placeholder.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Text input placeholder</p>
</div>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/text_input_character_string.png" style="display: block; margin: 1em auto" width="300" height="71" alt=""><p class="caption">Text input character string</p>
</div>
</div>
<div id="select-input" class="section level2">
<h2 class="hasAnchor">
<a href="#select-input" class="anchor"></a>Select Input</h2>
<p>Select inputs are great when there are many potential, discretely defined, response choices.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> An example is the question “What was your first language?” contains 15 rows because there are that many options to choose from:<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<pre><code>#&gt;  [1] "Arabic"   "Armenian" "Chinese"  "English"  "French"   "Creole"  
#&gt;  [7] "German"   "Greek"    "Gujarati" "Hebrew"   "Hindi"    "Italian" 
#&gt; [13] "Japanese" "Other"    NA</code></pre>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/select_input_example.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Select input example</p>
</div>
</div>
<div id="yes-or-no-yn-input" class="section level2">
<h2 class="hasAnchor">
<a href="#yes-or-no-yn-input" class="anchor"></a>Yes or No (y/n) Input</h2>
<p>Yes or no questions are self-explanatory. An example is the question “Have you ever learned to program in R?”:</p>
<pre><code>#&gt; # A tibble: 2 x 7
#&gt;   question       option input_type input_id dependence dependence_value required
#&gt;   &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
#&gt; 1 Have you ever… Yes    y/n        learned… &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 2 Have you ever… No     y/n        learned… &lt;NA&gt;       &lt;NA&gt;             TRUE</code></pre>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/yes_no_example.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Yes or No (y/n) input example</p>
</div>
</div>
</div>
<div id="implementing-surveys-in-shiny" class="section level1">
<h1 class="hasAnchor">
<a href="#implementing-surveys-in-shiny" class="anchor"></a>Implementing Surveys in Shiny</h1>
<div id="main-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#main-functions" class="anchor"></a>Main Functions</h2>
<div id="ui-function" class="section level3">
<h3 class="hasAnchor">
<a href="#ui-function" class="anchor"></a>UI Function</h3>
<p><code><a href="../reference/surveyOutput.html">surveyOutput()</a></code> takes in a data frame of the form described above. The documentation for it can be accessed by typing <code>?shinysurveys::surveyOutput()</code> in the console.</p>
</div>
<div id="server-function" class="section level3">
<h3 class="hasAnchor">
<a href="#server-function" class="anchor"></a>Server Function</h3>
<p><code><a href="../reference/renderSurvey.html">renderSurvey()</a></code> takes in a data frame of the form described above. It also takes in the input and session arguments that allow it to interface with the Shiny app. The documentation for it can be accessed by typing <code>?shinysurveys::renderSurvey()</code> in the console.</p>
</div>
</div>
<div id="basic-survey" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-survey" class="anchor"></a>Basic Survey</h2>
<p>A minimal example of a survey can be created with this template:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">shinysurveys</span><span class="op">)</span>
<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="fu">shinysurveys</span><span class="fu">::</span><span class="fu"><a href="../reference/surveyOutput.html">surveyOutput</a></span><span class="op">(</span>df <span class="op">=</span> <span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="../reference/teaching_r_questions.html">teaching_r_questions</a></span><span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">shinysurveys</span><span class="fu">::</span><span class="fu"><a href="../reference/renderSurvey.html">renderSurvey</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">input</span>, 
                            df <span class="op">=</span> <span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="../reference/teaching_r_questions.html">teaching_r_questions</a></span>,
                            session <span class="op">=</span> <span class="va">session</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></pre></div>
<p>Please note that the UI comes with a “Submit” button included. Survey designers can customize actions by using the call <code>input$submit</code>. Some examples would be saving or displaying user responses. An example of that can be found <a href="https://jdtrat-apps.shinyapps.io/shinysurveys_survey_submit">here</a>.</p>
</div>
<div id="advanced-features" class="section level2">
<h2 class="hasAnchor">
<a href="#advanced-features" class="anchor"></a>Advanced Features</h2>
<div id="dependency-questions" class="section level3">
<h3 class="hasAnchor">
<a href="#dependency-questions" class="anchor"></a>Dependency Questions</h3>
<p>We use the term question dependencies in reference to the situations where a question should only be shown (i.e. asked) if a specific response is given to a preceding question. The questions included with the <code>shinysurveys</code> package contain many dependencies. One example we’ve seen discussing <a href="#multiple_choice">multiple choice</a> and <a href="#text_input">text-based</a> questions is the dependent for “Which best describes your gender?”</p>
<pre><code>#&gt; # A tibble: 5 x 7
#&gt;   question    option   input_type input_id  dependence dependence_value required
#&gt;   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
#&gt; 1 Which best… Female   mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 2 Which best… Male     mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 3 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 4 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
#&gt; 5 Which best… &lt;NA&gt;     text       self_des… gender     Prefer to self … FALSE</code></pre>
<p>Focusing on the columns <code>dependence</code> and <code>dependence_value</code>, we see that the text-based question will only show if the multiple choice one, with the input id of “gender” takes on the value “Prefer to self describe.” That is, a question with non <em>NA</em> values in the <code>dependence</code> and <code>dependence_value</code> columns mean that it will only show if the question with the input id from <code>dependence</code> takes on the value from <code>dependence_value</code>. This can be seen below:</p>
<p><img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/dependency_example_1.png" style="display: block; margin: 1em auto" width="300"></p>
<p><img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/dependency_example_2.png" style="display: block; margin: 1em auto" width="300"></p>
</div>
<div id="required_questions" class="section level3">
<h3 class="hasAnchor">
<a href="#required_questions" class="anchor"></a>Required Questions</h3>
<p>Survey designers can define questions that must be answered by adding the value TRUE to the <code>required</code> column. If a required question is not answered, the user will not be able to submit their responses.</p>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/required_submit_disabled.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Required question is not answered. User cannot submit their response.</p>
</div>
<div class="figure">
<img src="../../../../../RStudio%20Projects/Academic/DMDS/shinysurveys/vignettes/images/required_submit_enabled.png" style="display: block; margin: 1em auto" width="300" alt=""><p class="caption">Required question is answered. User can submit their response.</p>
</div>
</div>
<div id="user-tracking" class="section level3">
<h3 class="hasAnchor">
<a href="#user-tracking" class="anchor"></a>User Tracking</h3>
<p>Built into the survey is the ability to track users based on URL parameters. If you deploy your survey on <a href="shinyapps.io">shinyapps.io</a>, or run it locally for experiments, you can add a URL parameter after the backslash as follows: <code>?user_id=12345</code>. A live demo can be found here: <a href="https://jdtrat-apps.shinyapps.io/shinysurveys_survey_user_tracking/?user_id=hadley" class="uri">https://jdtrat-apps.shinyapps.io/shinysurveys_survey_user_tracking/?user_id=hadley</a></p>
</div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>We assume that you are familiar with the basic layout of a Shiny application. If not, please check out RStudio’s <a href="https://shiny.rstudio.com/tutorial/">great resources</a> before completing this vignette.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Required question functionality will be discussed in more detail in the section <a href="#required_questions">Required Questions</a>.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>As of October 2020, these do not support multiple options selected at once, though we anticipate adding this functionality in the future.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Note the presence of the NA in the output above. This deals with question dependencies, which is explained in detail in the section <a href="#Question%20Dependencies">Dependency Questions</a>.<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jonathan Trattner, Lucy D'Agostino McGowan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
